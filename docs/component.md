# Компоненти архітектури Movify

Тип продукту: веб-додаток (Frontend + Backend + БД).

## 1. Frontend (Web UI)

- **Призначення:** інтерфейс користувача Movify у браузері.
- **Основні функції:**
  - Відображення головної сторінки з каруселлю та блоками («Фільми», «Мультфільми», «Про нас»).
  - Перегляд списку фільмів та мультфільмів, картки з описом.
  - Додавання/видалення з «Улюблених» (кнопка «❤ В улюблені» / «Улюблене»).
  - Авторизація (логін/реєстрація), сторінка профілю, налаштувань.
  - Перегляд списку «Улюблених».
- **Інтерфейс/Протокол:** HTTP(S), REST API до Backend.
- **Дані (вхід/вихід):**
  - Вхід: JSON з даними фільмів, мультфільмів, профілю, стану «улюблене».
  - Вихід: HTTP-запити (GET/POST) для логіну, реєстрації, додавання в улюблені, оновлення профілю.
- **Технології (початково):**
  - HTML5, CSS3 (Bootstrap 5), JavaScript (vanilla).
  - Jinja2-шаблони через Flask.

---

## 2. Backend (Flask Application)

- **Призначення:** серверна логіка Movify, обробка запитів, авторизація, бізнес-логіка «улюблених».
- **Основні функції:**
  - Обробка HTTP-запитів від Frontend (маршрути `/films`, `/cartoons`, `/favorite`, `/profile`, `/login`, `/register`).
  - Авторизація користувачів (логін/логаут, сесії).
  - Зберігання та отримання даних користувачів, фільмів, улюблених.
  - API для додавання/видалення з «Улюблених».
  - Віддача HTML-шаблонів з даними в них.
- **Інтерфейс/Протокол:** HTTP(S), REST‑подібні ендпоїнти.
- **Дані (вхід/вихід):**
  - Вхід: HTTP-запити з формами та параметрами (`film_id`, `cartoon_id`, `username` тощо).
  - Вихід: HTML‑відповіді з шаблонів + редіректи, іноді JSON (у майбутньому).
- **Технології:**
  - Python 3, Flask, Flask‑SQLAlchemy.
  - Сесії Flask (cookie‑based).

---

## 3. Database (Movify DB)

- **Призначення:** зберігання даних про користувачів, фільми та улюблені.
- **Основні функції:**
  - Зберігання користувачів (логін, email, about, genres, avatar).
  - Зберігання фільмів/мультфільмів (id, title) для улюблених.
  - Зберігання зв’язків «користувач ↔ улюблений фільм».
- **Інтерфейс/Протокол:** SQL (через ORM Flask‑SQLAlchemy).
- **Дані (вхід/вихід):**
  - Таблиця `users`: id, username, email, about, genres, avatar.
  - Таблиця `movie`: id, title.
  - Таблиця `favorite`: id, user_id, movie_id.
- **Технології:**
  - SQLite для MVP.

---

## 4. Static Storage (Статика)

- **Призначення:** зберігання зображень та статичних файлів.
- **Основні функції:**
  - Зберігання постерів фільмів/мультфільмів (`static/img/...`).
  - Зберігання аватарів користувачів (`static/img/avatars/...`).
  - Зберігання CSS/JS (`static/css/style.css`).
- **Інтерфейс/Протокол:** HTTP(S) через Flask static routes.
- **Дані (вхід/вихід):**
  - Вхід: файли, що завантажуються (аватари).
  - Вихід: зображення, CSS, JS.
- **Технології:**
  - Flask static files, файлове сховище на сервері.

---

## 5. Auth & Session Management

- **Призначення:** керування входом/виходом користувачів і сесіями.
- **Основні функції:**
  - Реєстрація користувача (мінімально — username).
  - Логін/логаут, зберігання `user_id` у сесії.
  - Перевірка доступу до сторінок профілю та улюблених.
- **Інтерфейс/Протокол:** HTTP + cookie‑based sessions.
- **Дані (вхід/вихід):**
  - Вхід: дані форм логіну/реєстрації.
  - Вихід: статус входу, flash‑повідомлення.
- **Технології:**
  - Flask sessions, Flash messages.

---

## 6. Future / External Services (MVP+)

- **Recommendation Service:** персональні рекомендації фільмів.
- **Email/Notifications:** надсилання листів, нагадувань.
- **Analytics/Logging:** збір статистики, логування подій.
